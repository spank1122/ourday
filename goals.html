<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Goals ‚ú®</title>

  <link rel="stylesheet" href="assets/theme.css">
  <link rel="icon" type="image/png" href="assets/favicon.png">
  <meta name="theme-color" content="#ff5e9a">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body{ font-family:Poppins,sans-serif; background: linear-gradient(135deg,#ffe6ee 0%,#fff0f7 50%,#ffe6ee 100%); min-height:100vh; padding:20px; }
    body.page{ padding-top:110px; }

    .wrap{ width:min(980px, 100%); margin: 0 auto; position:relative; z-index: 5; }

    .h1{ text-align:center; font-size: 2.6rem; font-weight: 900; color:#ff6b95; text-shadow:0 2px 15px rgba(255,107,149,.2); margin-top: 6px; }
    .sub{ text-align:center; color:#ff8ab9; font-weight:800; margin-top: 8px; }

    .topbar{
      margin: 22px 0 16px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }

    .btnPlus{
      width: 44px; height: 44px;
      border-radius: 16px;
      border: 2px solid rgba(255,107,149,.18);
      background: rgba(255,107,149,.08);
      color:#ff5e9a;
      font-weight: 900;
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      font-size: 22px;
    }

    .hint{
      color:#ff8ab9;
      font-weight:800;
      background: rgba(255,255,255,.6);
      border: 2px solid rgba(255,107,149,.12);
      padding: 10px 14px;
      border-radius: 18px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .card{
      background: rgba(255,255,255,.92);
      border: 2px solid rgba(255,107,149,.12);
      border-radius: 26px;
      box-shadow: 0 20px 60px rgba(255,107,149,.14);
      padding: 16px 16px;
      cursor:pointer;
      transition:.2s;
    }
    .card:hover{ transform: translateY(-2px); box-shadow: 0 25px 70px rgba(255,107,149,.18); }

    .row1{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
    .title{ font-weight: 900; color:#ff6b95; font-size: 1.08rem; }
    .badge{
      padding: 6px 10px;
      border-radius: 999px;
      border: 2px solid rgba(255,107,149,.18);
      font-weight: 900;
      font-size: .82rem;
      color:#ff6b95;
      background: rgba(255,107,149,.08);
      white-space:nowrap;
    }
    .meta{ margin-top: 10px; display:flex; gap: 12px; flex-wrap:wrap; color:#777; font-weight:800; }
    .meta span{ background: rgba(255,107,149,.06); border: 2px solid rgba(255,107,149,.10); padding: 8px 10px; border-radius: 16px; }

    .note{ margin-top: 10px; color:#7b7b7b; font-weight:700; }

    /* Modal */
    .modal{ display:none; position:fixed; inset:0; background: rgba(0,0,0,.45); z-index: 3000; padding: 18px; }
    .modal.show{ display:flex; align-items:center; justify-content:center; }
    .modalBox{
      width:min(760px, 96vw);
      background:#fff;
      border-radius: 28px;
      border: 2px solid rgba(255,107,149,.14);
      box-shadow: 0 25px 80px rgba(0,0,0,.25);
      padding: 18px;
    }
    .mHead{ display:flex; align-items:center; justify-content:space-between; gap: 10px; margin-bottom: 10px; }
    .mTitle{ font-weight:900; color:#ff6b95; font-size: 1.15rem; }
    .xbtn{
      width:44px; height:44px; border-radius: 16px;
      border: 2px solid rgba(255,107,149,.18);
      background: rgba(255,107,149,.08);
      color:#ff5e9a; font-weight:900; cursor:pointer;
      font-size: 18px;
    }

    .formRow{
      display:grid;
      grid-template-columns: 1.2fr .8fr .8fr;
      gap: 12px;
      margin-top: 10px;
    }
    .formRow2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    .lab{ font-weight:900; color:#ff6b95; margin-bottom:6px; display:block; }
    .inp, .sel, .ta{
      width:100%;
      padding: 12px 14px;
      border-radius: 16px;
      border: 2px solid rgba(255,107,149,.16);
      outline:none;
      font-family:inherit;
    }
    .ta{ min-height: 110px; resize: vertical; grid-column: 1 / -1; }

    .miniHint{
      margin-top: 6px;
      color:#ff8ab9;
      font-weight: 900;
      font-size:.9rem;
    }

    .actions{
      display:flex;
      justify-content:flex-end;
      gap: 10px;
      margin-top: 14px;
    }
    .btnSoft{
      padding: 12px 16px;
      border-radius: 16px;
      border: 2px solid rgba(255,107,149,.20);
      background: rgba(255,107,149,.08);
      color:#ff6b95;
      font-weight: 900;
      cursor:pointer;
    }
    .btnSave{
      padding: 12px 16px;
      border-radius: 16px;
      border:none;
      background: linear-gradient(135deg,#ff5e9a 0%,#ff8ab9 100%);
      color:#fff;
      font-weight: 900;
      cursor:pointer;
    }

    .statusRow{
      display:flex; gap: 10px; flex-wrap:wrap;
      margin-top: 10px;
      justify-content:flex-start;
    }
    .statusBtn{
      padding: 10px 12px;
      border-radius: 999px;
      border: 2px solid rgba(255,107,149,.18);
      background: rgba(255,107,149,.08);
      color:#ff6b95;
      font-weight: 900;
      cursor:pointer;
    }
    .statusBtn.active{
      background: linear-gradient(135deg,#ff5e9a 0%,#ff8ab9 100%);
      color:#fff;
      border-color:#ff5e9a;
    }

    .err{ color:#ff4757; font-weight:900; margin-top: 8px; }
    .ok{ color:#2ecc71; font-weight:900; margin-top: 8px; }
  </style>
</head>

<body class="page">
  <div id="appNav"></div>
  <div id="pageFade"></div>

  <div class="wrap">
    <div class="h1">Goals ‚ú®</div>
    <div class="sub">‡∏î‡∏π‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà üíó (‡∏Å‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î & ‡∏ï‡∏¥‡πä‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞)</div>

    <div class="topbar">
      <div class="hint">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‚Äú‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‚Äù ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≠‡∏°‡πÉ‡∏ô Savings ‚ú®</div>
      <button class="btnPlus" id="btnOpenAdd" title="‡πÄ‡∏û‡∏¥‡πà‡∏° Goal">+</button>
    </div>

    <div class="grid" id="goalsGrid"></div>
  </div>

  <!-- Add Goal Modal -->
  <div class="modal" id="addModal">
    <div class="modalBox">
      <div class="mHead">
        <div class="mTitle">‡πÄ‡∏û‡∏¥‡πà‡∏° Goal ‡πÉ‡∏´‡∏°‡πà ‚ú®</div>
        <button class="xbtn" type="button" onclick="closeAdd()">‚úï</button>
      </div>

      <div class="formRow">
        <div>
          <label class="lab">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</label>
          <input class="inp" id="gTitle" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å / ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‚úàÔ∏è" />
        </div>
        <div>
          <label class="lab">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
          <select class="sel" id="gType">
            <option value="general">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
            <option value="money">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</option>
          </select>
          <div class="miniHint" id="typeHint">‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‚Äú‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‚Äù ‚Üí ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≠‡∏°‡πÉ‡∏ô Savings</div>
        </div>
        <div>
          <label class="lab">‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</label>
          <input class="inp" id="gDue" type="date" />
        </div>
      </div>

      <div class="formRow2" id="moneyRow" style="display:none;">
        <div>
          <label class="lab">‡∏¢‡∏≠‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
          <input class="inp" id="gTarget" type="number" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 50000" />
        </div>
        <div>
          <label class="lab">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
          <input class="inp" id="gNoteShort" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á üíó" />
        </div>
      </div>

      <div style="margin-top:12px;">
        <label class="lab">‡πÇ‡∏ô‡πâ‡∏ï (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
        <textarea class="ta" id="gNote" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏õ‡∏µ üíó"></textarea>
      </div>

      <div id="addMsg"></div>

      <div class="actions">
        <button class="btnSoft" type="button" onclick="closeAdd()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btnSave" type="button" id="btnAddSave">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Detail Modal -->
  <div class="modal" id="detailModal">
    <div class="modalBox">
      <div class="mHead">
        <div class="mTitle" id="dTitle">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Goal</div>
        <button class="xbtn" type="button" onclick="closeDetail()">‚úï</button>
      </div>

      <div class="meta" id="dMeta"></div>
      <div class="note" id="dNote" style="margin-top:10px;"></div>

      <div style="margin-top:14px; font-weight:900; color:#ff6b95;">‡∏ï‡∏¥‡πä‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</div>
      <div class="statusRow">
        <button class="statusBtn" id="st_in_progress" onclick="setStatus('in_progress')">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥ üíó</button>
        <button class="statusBtn" id="st_success" onclick="setStatus('success')">‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ</button>
        <button class="statusBtn" id="st_failed" onclick="setStatus('failed')">‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ü•∫</button>
      </div>

      <div id="detailMsg"></div>

      <div class="actions">
        <button class="btnSoft" type="button" onclick="closeDetail()">‡∏õ‡∏¥‡∏î</button>
        <button class="btnSave" type="button" id="btnDetailSave">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
      </div>
    </div>
  </div>

  <script type="module" src="assets/goals.js"></script>
  <script src="assets/app.js"></script>
</body>
</html>
